# ğŸ—ï¸ Luá»“ng Hoáº¡t Ä‘á»™ng: Frontend â†’ Backend â†’ Database

## ğŸ“Š Kiáº¿n trÃºc tá»•ng quÃ¡t

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND (Vue.js)                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚  Views (SalaryView, EmployeesView, etc.)                  â”‚  â”‚
â”‚ â”‚  - UI Components                                           â”‚  â”‚
â”‚ â”‚  - User Interactions                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚  Services (salaryService, employeeService, etc.)          â”‚  â”‚
â”‚ â”‚  - API calls (HTTP methods)                               â”‚  â”‚
â”‚ â”‚  - Business logic                                          â”‚  â”‚
â”‚ â”‚  - Data transformation                                    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚  API Client (axios)                                        â”‚  â”‚
â”‚ â”‚  - Request/Response Interceptors                           â”‚  â”‚
â”‚ â”‚  - Token management                                        â”‚  â”‚
â”‚ â”‚  - Error handling                                          â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    HTTP (RESTful API)
                    PUT/POST/GET/DELETE
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (Laravel)                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Routes (api.php)                                          â”‚ â”‚
â”‚ â”‚  - Define endpoints                                        â”‚ â”‚
â”‚ â”‚  - Map to controllers                                      â”‚ â”‚
â”‚ â”‚  - Apply middleware (auth, role)                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Controllers (SalaryController, etc.)                      â”‚ â”‚
â”‚ â”‚  - Handle HTTP requests                                    â”‚ â”‚
â”‚ â”‚  - Validate input                                          â”‚ â”‚
â”‚ â”‚  - Call models/services                                    â”‚ â”‚
â”‚ â”‚  - Return JSON response                                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Models (Salary, Employee, User, etc.)                    â”‚ â”‚
â”‚ â”‚  - Eloquent ORM                                            â”‚ â”‚
â”‚ â”‚  - Define table schema                                     â”‚ â”‚
â”‚ â”‚  - Relationships (hasMany, belongsTo)                      â”‚ â”‚
â”‚ â”‚  - Casts (type conversion)                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Database Layer                                            â”‚ â”‚
â”‚ â”‚  - Query Builder                                           â”‚ â”‚
â”‚ â”‚  - SQL execution                                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE (MySQL)                            â”‚
â”‚  - users table                                                 â”‚
â”‚  - employees table                                             â”‚
â”‚  - salaries table                                              â”‚
â”‚  - leave_requests table                                        â”‚
â”‚  - schedules table                                             â”‚
â”‚  - notifications table                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ VÃ­ dá»¥ thá»±c táº¿: Táº¡o báº£ng lÆ°Æ¡ng (Salary)

### 1ï¸âƒ£ **FRONTEND - User Interface**

**File:** `frontend/src/views/SalaryView.vue`

```vue
<template>
  <div class="salary-form">
    <form @submit.prevent="createSalary">
      <input v-model="form.employee_id" type="number" placeholder="Employee ID">
      <input v-model="form.base_salary" type="number" placeholder="Base Salary">
      <input v-model="form.bonus" type="number" placeholder="Bonus">
      <select v-model="form.month">
        <option v-for="m in 12" :value="m">{{ m }}</option>
      </select>
      <input v-model="form.year" type="number" placeholder="Year">
      <button type="submit">Create Salary</button>
    </form>
  </div>
</template>

<script>
import { salaryService } from '@/services/salaryService'

export default {
  data() {
    return {
      form: {
        employee_id: null,
        base_salary: 0,
        bonus: 0,
        month: new Date().getMonth() + 1,
        year: new Date().getFullYear()
      }
    }
  },
  methods: {
    async createSalary() {
      try {
        const response = await salaryService.create(this.form) // ğŸ‘ˆ Call service
        console.log('Salary created:', response)
      } catch (error) {
        console.error('Error:', error)
      }
    }
  }
}
</script>
```

**NgÆ°á»i dÃ¹ng:** Click "Create Salary" button â†“

---

### 2ï¸âƒ£ **FRONTEND - Service Layer**

**File:** `frontend/src/services/salaryService.js`

```javascript
import apiClient from './api'

export const salaryService = {
  async create(payload) {
    // payload = { employee_id: 1, base_salary: 5000, bonus: 500, month: 1, year: 2026 }
    
    const response = await apiClient.post('/api/salaries', payload)
    //                           â†‘ HTTP POST request
    //                           â†“ baseURL + endpoint
    // http://localhost:8000/api/salaries
    
    return response.data
  }
}
```

**Gá»­i HTTP request:** 
```
POST http://localhost:8000/api/salaries
Headers: {
  Authorization: "Bearer <token>",
  Content-Type: "application/json"
}
Body: {
  "employee_id": 1,
  "base_salary": 5000,
  "bonus": 500,
  "month": 1,
  "year": 2026
}
```

â†“

---

### 3ï¸âƒ£ **BACKEND - Routes**

**File:** `backend/routes/api.php`

```php
// Match POST /api/salaries
Route::middleware('role:admin')->prefix('salaries')->group(function () {
    Route::post('/', [SalaryController::class, 'store']);
    //       â†‘ Matches POST /api/salaries
    //       â†“ Calls SalaryController@store method
});
```

**Middleware check:**
- âœ… User authenticated? (via `auth:sanctum`)
- âœ… User role is 'admin'? (via `role:admin`)

â†“

---

### 4ï¸âƒ£ **BACKEND - Controller**

**File:** `backend/app/Http/Controllers/Api/SalaryController.php`

```php
public function store(Request $request)
{
    // Validate input
    $validated = $request->validate([
        'employee_id' => ['required', 'exists:employees,id'],
        'base_salary' => ['required', 'numeric', 'min:0'],
        'bonus' => ['nullable', 'numeric', 'min:0'],
        'month' => ['required', 'integer', 'between:1,12'],
        'year' => ['required', 'integer', 'between:2000,2100'],
        'note' => ['nullable', 'string', 'max:255'],
    ]);
    
    // Check if salary already exists for month/year
    $exists = Salary::where('employee_id', $validated['employee_id'])
        ->where('month', $validated['month'])
        ->where('year', $validated['year'])
        ->exists();
    
    if ($exists) {
        return response()->json(
            ['message' => 'ÄÃ£ cÃ³ báº£ng lÆ°Æ¡ng cho thÃ¡ng/nÄƒm nÃ y'], 
            422
        );
    }
    
    // Calculate total
    $total = $validated['base_salary'] + ($validated['bonus'] ?? 0);
    
    // Create record via Model (â†“ interact with database)
    $salary = Salary::create([
        'employee_id' => $validated['employee_id'],
        'base_salary' => $validated['base_salary'],
        'bonus' => $validated['bonus'] ?? 0,
        'total' => $total,
        'month' => $validated['month'],
        'year' => $validated['year'],
        'note' => $validated['note'] ?? null,
    ]);
    
    // Return JSON response
    return response()->json([
        'message' => 'Táº¡o báº£ng lÆ°Æ¡ng thÃ nh cÃ´ng',
        'data' => $this->transform($salary->load('employee.user')),
    ], 201);
}
```

â†“

---

### 5ï¸âƒ£ **BACKEND - Model**

**File:** `backend/app/Models/Salary.php`

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Salary extends Model
{
    use HasFactory;

    protected $fillable = [
        'employee_id',
        'base_salary',
        'bonus',
        'total',
        'month',
        'year',
        'note',
    ];

    protected $casts = [
        'base_salary' => 'decimal:2',    // Cast to decimal
        'bonus' => 'decimal:2',
        'total' => 'decimal:2',
    ];

    // Relationship: Salary belongsTo Employee
    public function employee()
    {
        return $this->belongsTo(Employee::class);
    }
}
```

**Eloquent ORM:** Tá»± Ä‘á»™ng táº¡o SQL INSERT statement â†“

---

### 6ï¸âƒ£ **DATABASE - Insert**

**Salary Model â†’ MySQL Table**

```sql
INSERT INTO salaries 
  (employee_id, base_salary, bonus, total, month, year, note, created_at, updated_at)
VALUES 
  (1, 5000.00, 500.00, 5500.00, 1, 2026, NULL, 2026-01-02 10:30:45, 2026-01-02 10:30:45)
```

**Database Structure:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ salaries table                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: 1                               â”‚
â”‚ employee_id: 1 (FK â†’ employees)     â”‚
â”‚ base_salary: 5000.00                â”‚
â”‚ bonus: 500.00                       â”‚
â”‚ total: 5500.00                      â”‚
â”‚ month: 1                            â”‚
â”‚ year: 2026                          â”‚
â”‚ note: NULL                          â”‚
â”‚ created_at: 2026-01-02 10:30:45    â”‚
â”‚ updated_at: 2026-01-02 10:30:45    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

â†“ âœ… Success!

---

### 7ï¸âƒ£ **RESPONSE - Back to Frontend**

```json
{
  "message": "Táº¡o báº£ng lÆ°Æ¡ng thÃ nh cÃ´ng",
  "data": {
    "id": 1,
    "employee_id": 1,
    "base_salary": "5000.00",
    "bonus": "500.00",
    "total": "5500.00",
    "month": 1,
    "year": 2026,
    "note": null,
    "employee": {
      "id": 1,
      "employee_code": "EMP001",
      "position": "Developer",
      "department": "IT",
      "user": {
        "id": 1,
        "name": "John Doe",
        "email": "john@example.com"
      }
    }
  }
}
```

**Frontend receives response** â†’ Update UI â†’ Show success message âœ…

---

## ğŸ” Chi tiáº¿t cÃ¡c pháº§n chÃ­nh

### **Frontend - Services (6 files)**

| Service | Chá»©c nÄƒng |
|---------|----------|
| `api.js` | Cáº¥u hÃ¬nh axios, interceptors (token, error handling) |
| `authService.js` | login, register, logout, check user |
| `employeesService.js` | CRUD employees (admin only) |
| `salaryService.js` | Quáº£n lÃ½ lÆ°Æ¡ng, mySalaries (employee) |
| `leaveRequestsService.js` | Táº¡o Ä‘Æ¡n, duyá»‡t Ä‘Æ¡n |
| `notificationsService.js` | Láº¥y thÃ´ng bÃ¡o, mark as read |
| `profileService.js` | Profile user, change password |
| `dashboardService.js` | Dashboard stats |

### **Backend - API Routes (11 endpoints)**

| Method | Endpoint | Controller | Role | Chá»©c nÄƒng |
|--------|----------|-----------|------|----------|
| POST | `/login` | AuthController | Public | ÄÄƒng nháº­p |
| POST | `/register` | AuthController | Public | ÄÄƒng kÃ½ |
| POST | `/api/salaries` | SalaryController | Admin | Táº¡o báº£ng lÆ°Æ¡ng |
| GET | `/api/salaries` | SalaryController | Admin | Danh sÃ¡ch lÆ°Æ¡ng |
| PUT | `/api/salaries/{id}` | SalaryController | Admin | Cáº­p nháº­t lÆ°Æ¡ng |
| DELETE | `/api/salaries/{id}` | SalaryController | Admin | XÃ³a lÆ°Æ¡ng |
| GET | `/api/my-salaries` | SalaryController | Employee | LÆ°Æ¡ng cá»§a tÃ´i |
| GET | `/api/employees` | EmployeeController | Admin | Danh sÃ¡ch nhÃ¢n viÃªn |
| POST | `/api/employees` | EmployeeController | Admin | Táº¡o nhÃ¢n viÃªn |
| POST | `/api/my-leaves` | LeaveRequestController | Employee | Táº¡o Ä‘Æ¡n nghá»‰ |
| GET | `/api/my-leaves` | LeaveRequestController | Employee | ÄÆ¡n nghá»‰ cá»§a tÃ´i |

### **Backend - Models (6 báº£ng)**

```
users â†’ employees â†’ salaries
                  â†’ schedules
                  â†’ leave_requests
      â†’ notifications
```

---

## ğŸ“ Luá»“ng dá»¯ liá»‡u cá»¥ thá»ƒ

### 1ï¸âƒ£ **Láº¥y danh sÃ¡ch lÆ°Æ¡ng (GET)**

```
Frontend Form
    â†“
SalaryView: fetchSalaries()
    â†“
salaryService.list({ month: 1, year: 2026 })
    â†“
GET /api/salaries?month=1&year=2026
    â†“
SalaryController.index()
    - Query: Salary::with('employee.user')
           ->where('month', 1)
           ->where('year', 2026)
           ->paginate(10)
    â†“
SELECT * FROM salaries 
WHERE month = 1 AND year = 2026
LIMIT 10
    â†“
Return JSON with salaries
    â†“
Frontend: Update UI with data
```

### 2ï¸âƒ£ **Cáº­p nháº­t lÆ°Æ¡ng (PUT)**

```
Frontend Form: Edit salary
    â†“
SalaryView: updateSalary(id, data)
    â†“
salaryService.update(id, { base_salary: 6000 })
    â†“
PUT /api/salaries/{id}
    â†“
SalaryController.update()
    - Validate data
    - Salary::find(id)->update(data)
    â†“
UPDATE salaries 
SET base_salary = 6000, total = 6500, updated_at = NOW()
WHERE id = 1
    â†“
Return updated salary
    â†“
Frontend: Show success toast
```

### 3ï¸âƒ£ **XÃ³a lÆ°Æ¡ng (DELETE)**

```
Frontend: Click delete button
    â†“
SalaryView: deleteSalary(id)
    â†“
salaryService.remove(id)
    â†“
DELETE /api/salaries/{id}
    â†“
SalaryController.destroy()
    - Salary::destroy(id)
    â†“
DELETE FROM salaries WHERE id = 1
    â†“
Return success message
    â†“
Frontend: Remove row from table
```

---

## ğŸ” Báº£o máº­t & Middleware

```
Frontend
    â†“ (gá»­i token)
api.js (Interceptor)
    â†“ ThÃªm Authorization header
Request
    â†“
Backend Routes
    â†“ Kiá»ƒm tra middleware
auth:sanctum (XÃ¡c thá»±c token)
    â†“
role:admin (Kiá»ƒm tra role)
    â†“ âœ… Pass
Controller
    â†“
Database
```

---

## ğŸ’¾ Database Flow

```
Controller (Salary::create($data))
    â†“
Eloquent ORM (Model)
    â†“
Query Builder (INSERT statement)
    â†“
PDO / Database Connection
    â†“
MySQL Engine
    â†“
Write to Disk
    â†“
Confirm with inserted ID
    â†“
Return to Controller
```

---

## ğŸ“Š VÃ­ dá»¥ Relationships

**Khi láº¥y lÆ°Æ¡ng kÃ¨m employee:**

```php
$salary = Salary::with('employee.user')->find(1);

// SQL: 
// SELECT * FROM salaries WHERE id = 1
// SELECT * FROM employees WHERE id = salaries.employee_id
// SELECT * FROM users WHERE id = employees.user_id

// Result:
{
  "id": 1,
  "employee_id": 1,
  "base_salary": 5000,
  "employee": {
    "id": 1,
    "position": "Developer",
    "user": {
      "id": 1,
      "name": "John Doe",
      "email": "john@example.com"
    }
  }
}
```

---

## ğŸ¯ TÃ³m táº¯t

| Layer | CÃ´ng viá»‡c | VÃ­ dá»¥ |
|-------|----------|-------|
| **Frontend** | UI, gá»i API | SalaryView.vue â†’ salaryService.js |
| **Axios** | HTTP client, token | api.js interceptors |
| **Backend Routes** | Äá»‹nh tuyáº¿n request | api.php (POST /api/salaries) |
| **Controller** | Xá»­ lÃ½ logic | SalaryController.store() |
| **Model** | ORM, mapping table | Salary model |
| **Database** | LÆ°u dá»¯ liá»‡u | MySQL salaries table |

**Táº¥t cáº£ káº¿t ná»‘i qua HTTP RESTful API (JSON)!**
